{{#link-to 'slugged-route' comment.user.username}}
  {{#if comment.user.isLoaded}}
    <img class="icon" src={{comment.user.photoThumbUrl}} />
  {{else}}
    <div class="icon"></div>
  {{/if}}
{{/link-to}}
<div class="comment-content">
{{#if isEditing}}
  <div class="input-group">
    {{editor-with-preview
      input=comment.markdown
      isLoading=comment.isSaving
      modifiedSubmit=(action 'save')
    }}
    {{#each comment.errors.markdown as |error|}}
      <p class="error">{{error.message}}</p>
    {{/each}}
  </div>
  <div class="input-group">
    {{#if comment.isSaving}}
      <button class="default right">Updating...</button>
    {{else}}
      <button {{action 'save'}} class="default right save">Update comment</button>
      <button {{action 'cancel'}} class="clear right cancel">Cancel</button>
    {{/if}}
  </div>
{{else}}
  <div class="comment-info">
    {{user/display-username user=comment.user}} commented {{moment-from-now comment.insertedAt}}
    {{#if canEdit}}
      <a class="edit" {{action 'edit'}}>edit</a>
    {{/if}}
    {{#if comment.containsCode}}
      {{code-theme-selector}}
    {{/if}}
  </div>
  <div class="comment-body markdown-body">
    {{#if nullBody}}
      <em class="markdown-body--empty" data-test-markdown-body-empty>No description provided.</em>
    {{else}}
      {{{parsedBody}}}
    {{/if}}
  </div>
{{/if}}
</div>
